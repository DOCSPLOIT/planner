(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{9031:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[projectId]/issues/create",function(){return t(9187)}])},9187:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r,s=t(5893),i=t(5980),a=t(4051),o=t.n(a),l=t(2175),c=t(7294),u=t(9435),d=t(4231),p=t(93),m=(t(91),t(5152));!function(e){e.TODO="TODO",e.INPROGRESS="INPROGRESS",e.DONE="DONE"}(r||(r={}));var h=t(8182),f=t(4511);function x(e){var n=(0,c.useRef)(),t=(0,c.useState)(),r=t[0],i=t[1];return(0,s.jsxs)(h.Z,{className:"position-relative col-md-1 p-0 m-3",style:{height:"100px",cursor:"pointer"},children:[(0,s.jsxs)("div",{className:"col-12 h-100 w-100 text-center",onClick:function(){n.current.click()},children:[!r&&(0,s.jsx)("i",{style:{fontSize:"4.1rem"},className:"bi m-auto text-center bi-plus text-dark"}),r&&(0,s.jsx)("div",{className:"d-flex col-12 m-auto h-100 justify-content-around flex-column align-items-center",children:(0,s.jsx)("p",{className:"text-dark h5",children:r.type.split("/")[1].toUpperCase()})}),(0,s.jsx)("input",{ref:n,className:"file__picker",onChange:function(n){null!=n.target.files&&n.target.files.length>0?(i(n.target.files[0]),e.onChange(n.target.files[0])):(0,f.J)("No file picked")},type:"file",accept:"image/jpeg"})]}),r&&(0,s.jsx)("i",{onClick:function(){i(void 0),e.onChange(void 0)},className:"bi bi-trash m-auto text-center reset text-danger"}),(0,s.jsx)("style",{children:"\n                    input.file__picker{\n                        visibility:hidden;\n                    }\n                    .reset{\n                        position:absolute;\n                        top:5px;\n                        right:10px;\n                        z-index:10;\n                        height:24px;\n                        width:24px;\n                        border-radius:50px;\n                        transition:1s background;\n                    }\n                    .reset:hover{\n                        background:var(--bs-danger);\n                        color:white !important;\n                        \n                    }\n                "})]})}var b=t(5005),v=t(8545);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var g=function(e){var n,t=(0,c.useState)(e),r=t[0],i=t[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.Z,{className:"col-12 w-100 bg-secondary",children:[(0,s.jsx)(v.Z.Toggle,{className:"text-white selectBox w-100",variant:"transparent",children:null!==(n=r.label)&&void 0!==n?n:"Select Item"}),(0,s.jsx)(v.Z.Menu,{className:"options-cont p-0",variant:"dark",children:e.items&&e.items.map((function(n,t){return(0,s.jsx)(v.Z.Item,{className:r.index===t?"selected":"",onClick:function(){i(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}({},n,{index:t})),e.onSelect&&e.onSelect(n.value)},children:n.label},t)}))})]}),(0,s.jsx)("style",{children:'\n                        .selectBox::after {\n  display: none;\n}\n.selectBox::before {\n  position: absolute;\n  content: "";\n  right: 5%;\n  top: 33.33%;\n  border-style: solid;\n  border-width: 0.12em 0.12em 0 0;\n  display: inline-block;\n  height: 0.5em;\n  width: 0.5em;\n  transform: rotate(135deg);\n  vertical-align: top;\n  transition: 200ms;\n}\n\n.selectBox[aria-expanded="true"]::before {\n  transform: rotate(-45deg) !important;\n  top: 50%;\n}\n.selectBox{\n    font-size:normal;\n}\n.options-cont{\n    margin-top:5px !important;\n    margin-bottom:5px !important;\n}\n.selected{\n    background-color:var(--bs-primary) !important;\n}\n '})]})};var N=t(7159),w=t(20),y=t(1163);function S(e,n,t,r,s,i,a){try{var o=e[i](a),l=o.value}catch(c){return void t(c)}o.done?n(l):Promise.resolve(l).then(r,s)}var k,_=(0,m.default)((k=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(774),t.e(937),t.e(156)]).then(t.t.bind(t,4290,23));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var s=k.apply(e,n);function i(e){S(s,t,r,i,a,"next",e)}function a(e){S(s,t,r,i,a,"throw",e)}i(void 0)}))}),{loadableGenerated:{webpack:function(){return[4290]}},ssr:!1});function I(){var e=(0,y.useRouter)(),n=(0,c.useState)(),t=n[0],i=n[1],a=(0,c.useState)(),o=a[0],m=a[1],h=(0,c.useState)(),v=h[0],j=h[1],S=(0,c.useContext)(u.x),k=(0,c.useState)([]),I=k[0],O=k[1],C=(0,l.TA)({initialValues:{issue:"",description:"",points:"",status:r.TODO,sprintId:"",projectId:S.id},validationSchema:d.Ry().shape({issue:d.Z_().required("Issue name is required"),description:d.Z_().required("Description is required"),points:d.Z_().required("Please Choose Point"),sprintId:d.Z_().required("Please Select a Sprint")}),onSubmit:function(n,r){var s=new FormData,i=!0,a=!1,l=void 0;try{for(var c,u=Object.keys(n)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;s.append(d,n[d])}}catch(p){a=!0,l=p}finally{try{i||null==u.return||u.return()}finally{if(a)throw l}}s.append("att_1",t),s.append("att_2",o),s.append("att_3",v),w.h.create(s).then((function(n){"success"===n.message&&((0,f.Q)("New Issue created"),e.back())}))}}),q=(0,c.useState)(!1),P=q[0],Z=q[1];return(0,c.useEffect)((function(){window.document&&(Z(!0),N.S.all(S.id).then((function(e){O(null!==e&&void 0!==e?e:[])})))}),[P]),(0,s.jsxs)("div",{className:"col-md-10 m-auto",children:[(0,s.jsx)(p.Z,{label:"Create Issue"}),(0,s.jsx)("div",{className:"col-12 mt-4",children:(0,s.jsxs)("form",{onSubmit:C.handleSubmit,children:[(0,s.jsxs)("div",{className:"mb-3 form-group",children:[(0,s.jsx)("label",{htmlFor:"issue",className:"form-label",children:"Issue*"}),(0,s.jsx)("input",{type:"text",name:"",id:"issue",className:"form-control bg-secondary",placeholder:"",value:C.values.issue,"aria-describedby":"helpId",onChange:C.handleChange,onBlur:C.handleBlur}),C.errors.issue&&C.touched.issue&&(0,s.jsx)("small",{id:"helpId",className:"text-danger",children:C.errors.issue})]}),(0,s.jsxs)("div",{className:"mb-3 form-group",children:[(0,s.jsx)("label",{htmlFor:"issue",className:"form-label",children:"Description*"}),P&&(0,s.jsx)(_,{id:"desc",className:"text-white bg-secondary",placeholder:"Describe issue",value:C.values.description,onChange:function(e){return C.setFieldValue("description",e)}}),C.errors.description&&C.touched.description&&(0,s.jsx)("small",{id:"helpId",className:"text-danger",children:C.errors.description})]}),(0,s.jsxs)("legend",{className:"text-white",children:["Attachments (",t&&o&&v?"3":!t&&o&&v||t&&!o&&v||t&&o&&!v?"2":!t&&!o&&v||!t&&o&&!v||t&&!o&&!v?"1":"0","/3)"]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)(x,{onChange:function(e){i(e)}}),(0,s.jsx)(x,{onChange:function(e){m(e)}}),(0,s.jsx)(x,{onChange:function(e){j(e)}})]}),(0,s.jsx)("legend",{className:"text-white",children:"Sprint Details"}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"mb-3 col-md-3",children:[(0,s.jsx)(g,{label:"Select Sprint",onSelect:function(e){C.setFieldValue("sprintId",e.id)},items:I.map((function(e){return{label:e.name,value:e}}))}),C.errors.sprintId&&C.touched.sprintId&&(0,s.jsx)("small",{id:"helpId",className:"text-danger",children:C.errors.sprintId})]}),(0,s.jsxs)("div",{className:"mb-3 col-md-3",children:[(0,s.jsx)(g,{label:"Select Point",onSelect:function(e){C.setFieldValue("points",e)},items:[1,2,3,4].map((function(e){return{label:e,value:e}}))}),C.errors.points&&C.touched.points&&(0,s.jsx)("small",{id:"helpId",className:"text-danger",children:C.errors.points})]})]}),(0,s.jsx)("div",{className:"modal-footer pb-4",children:(0,s.jsx)(b.Z,{type:"submit",variant:"primary",className:"text-white",children:"Create"})})]})}),(0,s.jsx)("style",{children:"\n                .ql-toolbar .ql-stroke {\n                    fill: none;\n                    stroke: #fff;\n                }\n\n                .ql-toolbar .ql-fill {\n                    fill: #fff;\n                    stroke: none;\n                }\n\n                .ql-toolbar .ql-picker-label {\n                    color: #fff;\n                }\n                .ql-toolbar.ql-snow{\n                    border:none !important;\n                    border-bottom:1px solid #606060 !important;\n                }\n                .ql-container.ql-snow{\n                    border:none !important;\n                }\n                select{\n                    appearance:none;\n                }\n            "})]})}function O(){return(0,s.jsx)(i.X,{showBottomBar:!1,children:(0,s.jsx)(I,{})})}},93:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(5893),s=t(1163);function i(e){var n=(0,s.useRouter)();return(0,r.jsxs)("div",{className:"col-md-12 d-flex my-2",children:[(0,r.jsx)("i",{onClick:function(){return n.back()},className:"bi bi-arrow-left-circle-fill m-auto cursor-pointer text-white h3"}),(0,r.jsx)("p",{className:"col-11 m-auto h5 text-white",children:e.label}),(0,r.jsx)("style",{children:"\n                i{\n                    cursor:pointer;\n                }\n                i:active{\n                    color:#30A3B2 !important;\n                }\n               \n                "})]})}}},function(e){e.O(0,[770,175,231,882,453,774,888,179],(function(){return n=9031,e(e.s=n);var n}));var n=e.O();_N_E=n}]);