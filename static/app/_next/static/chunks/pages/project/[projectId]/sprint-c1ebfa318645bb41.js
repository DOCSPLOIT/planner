(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{7198:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[projectId]/sprint",function(){return n(5897)}])},5897:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r,s=n(5893),a=n(5980),o=n(4051),i=n.n(o),c=n(7294),l=n(7159),d=n(20),u=n(5607),x=n(5147),h=n(9435),p=n(2188);function m(e){var t=e.children,n=e.activeSprint;return(0,s.jsx)(u.Z,{defaultActiveKey:"".concat(n),children:t})}function f(e){var t=(0,c.useContext)(h.x),n="";if(e.sprint){var r=e.sprint,a=new Date(r.startDate),o=new Date(e.sprint.endDate);a=a.toDateString().split(" ").slice(1,3).reverse().join(" "),o=o.toDateString().split(" ").slice(1,3).reverse().join(" "),n="".concat(r.name," ( ").concat(a," - ").concat(o," )")}return(0,s.jsxs)(u.Z.Item,{eventKey:"".concat(e.handlerKey),children:[(0,s.jsx)(u.Z.Header,{className:"border-bottom border-secondary",onClick:e.onClick,children:n}),(0,s.jsx)(u.Z.Body,{className:"p-0 m-0",children:(0,s.jsxs)(x.Z,{responsive:!0,variant:"dark",striped:!0,className:"m-auto text-center py-2",children:[(0,s.jsx)("thead",{className:"py-2",children:(0,s.jsxs)("tr",{className:"tex-center py-2",children:[(0,s.jsx)("th",{children:"Task"}),(0,s.jsxs)("th",{children:["Points(1pt=",t.estimatedTaskTime,"hr)"]}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"TID"}),(0,s.jsx)("th",{children:"Updated on"})]})}),(0,s.jsx)("tbody",{children:e.tasks.map((function(e,t){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.issue}),(0,s.jsxs)("td",{children:[e.points,"pt"]}),(0,s.jsx)("td",{children:(0,s.jsx)(p.Z,{type:p.x.of(e.status.toLowerCase())})}),(0,s.jsx)("td",{children:e.code})]})}))})]})})]})}!function(e){e.COMPLETED="COMPLETED",e.INPROGRESS="INPROGRESS",e.NOT_STARTED="NOT STARTED",e.OVERDUE="OVERDUE"}(r||(r={}));var j=n(6212),v=n(1676),b=n(9517),N=n(3489),C=n(5005),S=n(9198),g=n.n(S),D=n(2175),y=n(4511);function w(e,t,n,r,s,a,o){try{var i=e[a](o),c=i.value}catch(l){return void n(l)}i.done?t(c):Promise.resolve(c).then(r,s)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function o(e){w(a,r,s,o,i,"next",e)}function i(e){w(a,r,s,o,i,"throw",e)}o(void 0)}))}}function E(){var e=function(e){if(!(e.length>0))return w("Sprint 1");var t=e[e.length-1].name.match(/\d+/)[0];w("Sprint ".concat(+t+1))},t=(0,c.useState)([]),n=t[0],a=t[1],o=(0,c.useState)([]),u=o[0],x=o[1],p=(0,c.useState)(""),S=p[0],w=p[1],E=(0,c.useState)(!1),Z=E[0],T=E[1],O=new Date,_=new Date;_.setDate(O.getDate()+7);var R=(0,c.useContext)(h.x),P=(0,D.TA)({initialValues:{endDate:_,goals:[],name:S,startDate:O,status:r.INPROGRESS,projectId:R.id},onSubmit:function(e){return k(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.S.create(e);case 2:(0,y.Q)("Sprint Added"),I();case 4:case"end":return t.stop()}}),t)})))()}}),I=function(){T(!1),P.resetForm()},A=function(){var e=k(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.h.all(R.id,t);case 2:n=e.sent,x(null!==n&&void 0!==n?n:[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){k(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!R.id){t.next=6;break}return t.next=3,l.S.all(R.id);case 3:n=t.sent,a(null!==n&&void 0!==n?n:[]),e(n);case 6:case"end":return t.stop()}}),t)})))()}),[]),(0,s.jsxs)("div",{className:"col-md-10 m-auto mt-5",children:[(0,s.jsxs)("div",{className:"row py-3 col-md-12 m-auto border-bottom border-dark",children:[(0,s.jsx)("p",{className:"display-6 text-white col-md-11 p-0 m-0",children:"Sprints"}),(0,s.jsx)("button",{onClick:function(){return T(!0)},className:"btn btn-primary text-white col-md-1 p-0",children:"Create New"})]}),R.currentSprint&&(0,s.jsx)(m,{activeSprint:R.currentSprint.id,children:n.map((function(e,t){return(0,s.jsx)(f,{handlerKey:e.id,sprint:e,tasks:u,onClick:function(){return A(e.id)}},t)}))}),!R.currentSprint&&(0,s.jsxs)("div",{className:"m-auto text-center p-3",children:[(0,s.jsx)("i",{style:{fontSize:"xxx-large"},className:"bi text-muted bi-exclamation-triangle-fill"}),(0,s.jsx)("p",{className:"text-white",children:"No Sprint"})]}),(0,s.jsxs)(j.Z,{className:"sy-modal",show:Z,onHide:I,children:[(0,s.jsx)(j.Z.Header,{children:(0,s.jsx)(j.Z.Title,{children:"Add Sprint"})}),(0,s.jsx)(j.Z.Body,{children:(0,s.jsxs)(v.Z,{children:[(0,s.jsx)(v.Z.Label,{className:"py-1",children:"Name"}),(0,s.jsx)(v.Z.Control,{disabled:!0,className:"bg-transparent text-white",value:S,placeholder:"Name"}),(0,s.jsx)(v.Z.Label,{className:"py-1",children:"Start Date"}),(0,s.jsx)(g(),{className:"form-control text-white",minDate:O,selected:P.values.startDate,name:"startDate",onChange:function(e,t){P.setFieldValue("startDate",e);var n=new Date;n.setDate(e.getDate()+7),P.setFieldValue("endDate",n)}}),(0,s.jsx)(v.Z.Label,{className:"py-1",children:"End Date"}),(0,s.jsx)(g(),{className:"form-control text-white bg-secondary",disabled:!0,selected:P.values.endDate,name:"endDate",onChange:function(e,t){}}),(0,s.jsxs)(v.Z.Label,{children:["Goals ",(0,s.jsx)(b.Z,{overlay:(0,s.jsx)(N.Z,{children:"Separate goals by comma(,)"}),children:(0,s.jsx)("i",{className:"bi bi-info-circle cursor-pointer"})})," "]}),(0,s.jsx)(v.Z.Control,{value:P.values.goals,onChange:function(e){var t=e.target.value;t=t.split(","),P.setFieldValue("goals",t)}})]})}),(0,s.jsxs)(j.Z.Footer,{children:[(0,s.jsx)(C.Z,{variant:"secondary",onClick:I,children:"Close"}),(0,s.jsx)(C.Z,{variant:"primary",className:"text-light",onClick:function(){P.submitForm()},children:"Create"})]})]})]})}function Z(){return(0,s.jsx)(a.X,{label:"Sprint",children:(0,s.jsx)(E,{})})}},2188:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},x:function(){return o}});var r=n(5893);function s(e){var t=e.type;return(0,r.jsx)(a,{text:t.text,borderColor:t.borderColor,backgroundColor:t.backgroundColor})}function a(e){return(0,r.jsxs)("div",{className:"chips py-1 px-3",children:[(0,r.jsx)("p",{className:"m-0 text-small text-center",children:e.text}),(0,r.jsx)("style",{children:".chips{\n                    background-color:".concat(e.backgroundColor,";\n                    width:max-content;\n                    border-radius:16px;\n                    border: 1px solid ").concat(e.borderColor,";\n            }\n             p.m-0.text-small.text-center{\n                font-size:12px;\n            }\n            ")})]})}var o={progress:{text:"IN PROGRESS",backgroundColor:"rgba(188, 108, 251, 0.51)",borderColor:"#BC6CFB"},done:{text:"DONE",backgroundColor:"rgba(75, 235, 158, 0.38)",borderColor:"#4BEB9E"},todo:{text:"TODO",backgroundColor:"rgba(48, 163, 179, 0.43)",borderColor:"#30A3B3"},of:function(e){return"progress"===e?this.progress:"done"===e?this.done:"todo"===e?this.todo:this.progress}}}},function(e){e.O(0,[770,175,686,453,774,888,179],(function(){return t=7198,e(e.s=t);var t}));var t=e.O();_N_E=t}]);